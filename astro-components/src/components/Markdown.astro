---
import type { AstroBuiltinAttributes } from 'astro';

import { parseMarkdown, ParserOptions } from '../utils/markdown'

export type Props = {
  ['class']?: string
  ['class:list']?: AstroBuiltinAttributes
  as?: string
  content: string
  options?: ParserOptions
}

const {
  ['class']: className,
  ['class:list']: classList,
  as: Tag,
  content,
  options,
} = Astro.props

const html = await parseMarkdown(content, options)
---

{
  Tag
    ? <Tag class:list={[className, classList]} set:html={html} />
    : <Fragment set:html={html} />
}
